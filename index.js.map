{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\n\nexport function searchImg(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    // const END_POINT = '/api/';\n    const params = {\n        key: '48901588-d5168312fb6e442ccb66c926a',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    };\n    const url = BASE_URL;\n    return axios.get(url, { params })\n};  ","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction imgTemplate(img) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = img;\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${img.webformatURL}\"\n      alt=\"${img.tags}\"\n    />\n  </a>\n  \n  <ul class=\"image-info\">\n      <li class=\"info-item\">\n        <p class=\"text\">Likes</p>\n        <p class=\"text-value\">${img.likes}</p>\n      </li>\n      <li class=\"info-item\">\n        <p class=\"text\">Views</p>\n        <p class=\"text-value\">${img.views}</p>\n      </li>\n      <li class=\"info-item\">\n        <p class=\"text\">Comments</p>\n        <p class=\"text-value\">${img.comments}</p>\n      </li>\n      <li class=\"info-item\">\n        <p class=\"text\">Downloads</p>\n        <p class=\"text-value\">${img.downloads}</p>\n      </li>\n      </ul>\n</li>`\n};\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function imgsTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { searchImg } from './js/pixabay-api.js';\nimport { imgsTemplate, lightbox } from './js/render-functions.js';\n\nexport const refs = {\n    form: document.querySelector('.search-form'),\n    input: document.querySelector('#image-input'),\n    gallery: document.querySelector('.gallery')\n};\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = refs.input.value.trim();\n\n  if (query === '') {\n    return;\n  }\n  refs.gallery.innerHTML = '<span class=\"loader\"></span>';\n  refs.form.reset();\n\n  searchImg(query)\n    .then(({ data }) => {\n      refs.gallery.innerHTML = '';\n      \n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: '',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          backgroundColor: '#ef4040',\n          messageSize: '16px',\n          position: 'topRight',\n          maxWidth: '432px',\n        });\n      } else {\n        refs.gallery.innerHTML = imgsTemplate(data.hits);\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n       refs.gallery.innerHTML = '';\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again.',\n        position: 'topRight',\n      });\n    });\n});"],"names":["axios","searchImg","query","BASE_URL","params","url","imgTemplate","img","lightbox","SimpleLightbox","imgsTemplate","arr","refs","e","data","iziToast","error"],"mappings":"owBACAA,EAAM,SAAS,QAAU,sBAElB,SAASC,EAAUC,EAAO,CAC7B,MAAMC,EAAW,2BAEXC,EAAS,CACX,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EACUG,EAAMF,EACZ,OAAOH,EAAM,IAAIK,EAAK,CAAE,OAAAD,CAAM,CAAE,CACpC,CCXA,SAASE,EAAYC,EAAK,CAExB,MAAO;AAAA,kCACyBA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGtCA,EAAI,YAAY;AAAA,aAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOWA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,MAI7C,CACO,MAAMC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAIL,CAAW,EAAE,KAAK,EAAE,CACrC,CCpCO,MAAMM,EAAO,CAChB,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,UAAU,CAC9C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACtCA,EAAE,eAAc,EAChB,MAAMX,EAAQU,EAAK,MAAM,MAAM,KAAI,EAEjCV,IAAU,KAGdU,EAAK,QAAQ,UAAY,+BACzBA,EAAK,KAAK,QAEVX,EAAUC,CAAK,EACZ,KAAK,CAAC,CAAE,KAAAY,KAAW,CAClBF,EAAK,QAAQ,UAAY,GAErBE,EAAK,KAAK,SAAW,EACvBC,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,YAAa,OACb,SAAU,WACV,SAAU,OACpB,CAAS,GAEDH,EAAK,QAAQ,UAAYF,EAAaI,EAAK,IAAI,EAC/CN,EAAS,QAAO,EAExB,CAAK,EACA,MAAMQ,GAAS,CACbJ,EAAK,QAAQ,UAAY,GAC1BG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACL,CAAC"}