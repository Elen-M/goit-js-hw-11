{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\n\nexport function searchImg(query) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = {\n        key: '48901588-d5168312fb6e442ccb66c926a',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    };\n    const url = BASE_URL + END_POINT;\n    return axios.get(url, { params })\n};  \n\n","\nimport { refs } from '../main.js';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction imgTemplate(img) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = img;\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${img.webformatURL}\"\n      alt=\"${img.tags}\"\n    />\n  </a>\n  <div class=\"image-info\">\n        <p>Likes: <span class=\"likes\">${img.likes}</span></p>\n        <p>Views: <span class=\"views\">${img.views}</span></p>\n        <p>Comments: <span class=\"comments\">${img.comments}</span></p>\n        <p>Downloads: <span class=\"downloads\">${img.downloads}</span></p>\n      </div>\n</li>`\n};\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function imgsTemplate(arr) {\n  const markup = arr.map(imgTemplate).join('');\n  lightbox.refresh(); \n  return markup;\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { searchImg } from './js/pixabay-api';\nimport { imgsTemplate } from './js/render-functions';\n\nexport const refs = {\n    form: document.querySelector('.search-form'),\n    input: document.querySelector('#image-input'),\n    button: document.querySelector('#search-button'),\n    gallery: document.querySelector('.gallery')\n};\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = refs.input.value.trim();\n\n  if (query === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  searchImg(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'No Results',\n          message: 'No images found for your search.',\n          position: 'topRight',\n        });\n      } else {\n        const markup = imgsTemplate(data.hits);\n        refs.gallery.innerHTML = markup;\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again.',\n        position: 'topRight',\n      });\n    });\n  e.target.reset();\n});"],"names":["axios","searchImg","query","BASE_URL","END_POINT","params","url","imgTemplate","img","lightbox","SimpleLightbox","imgsTemplate","arr","markup","refs","e","iziToast","data","error"],"mappings":"+vBACAA,EAAM,SAAS,QAAU,sBAElB,SAASC,EAAUC,EAAO,CAC7B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,CACX,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EACUI,EAAMH,EAAWC,EACvB,OAAOJ,EAAM,IAAIM,EAAK,CAAE,OAAAD,CAAM,CAAE,CACpC,CCVA,SAASE,EAAYC,EAAK,CAEtB,MAAO;AAAA,kCACuBA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGtCA,EAAI,YAAY;AAAA,aAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,wCAImBA,EAAI,KAAK;AAAA,wCACTA,EAAI,KAAK;AAAA,8CACHA,EAAI,QAAQ;AAAA,gDACVA,EAAI,SAAS;AAAA;AAAA,MAG7D,CACA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAaC,EAAK,CAChC,MAAMC,EAASD,EAAI,IAAIL,CAAW,EAAE,KAAK,EAAE,EAC3C,OAAAE,EAAS,QAAO,EACTI,CACT,CC1BO,MAAMC,EAAO,CAChB,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,cAAc,EAC5C,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,QAAS,SAAS,cAAc,UAAU,CAC9C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACtCA,EAAE,eAAc,EAChB,MAAMb,EAAQY,EAAK,MAAM,MAAM,KAAI,EAErC,GAAIZ,IAAU,GAAI,CAChBc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDf,EAAUC,CAAK,EACZ,KAAKe,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBD,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,mCACT,SAAU,UACpB,CAAS,MACI,CACL,MAAMH,EAASF,EAAaM,EAAK,IAAI,EACrCH,EAAK,QAAQ,UAAYD,CAC1B,CACP,CAAK,EACA,MAAMK,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACHD,EAAE,OAAO,OACX,CAAC"}